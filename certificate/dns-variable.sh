#!/bin/bash
#
PROJECT1='base'
PROJECT2='cicd'
PROJECT3='product'
PROJECT4='dev'
PROJECT5='test'

BASE1='activemq'
BASE2='memcache'
BASE3='redis'
BASE4='rabbitmq'
BASE5='solr'
BASE6='mysql'

CICD1='nexus'
CICD2='gogs'
CICD3='jenkins'
CICD4='subversion'
CICD5='sonarqube'

PRODUCT1='zentao'
PRODUCT2='nginx'

DEV1='yuantianfu'
DEV2='finance'
DEV3='sso'
DEV4='coc'
DEV5='console'

PARAM1='android'
PARAM2='apps'
PARAM3='dns'
PARAM4='email'
PARAM5='ftp'
PARAM6='git'
PARAM7='ios'
PARAM8='etcd0'
PARAM9='etcd1'
PARAM10='etcd2'
PARAM11='master0'
PARAM12='master1'
PARAM13='master2'
PARAM14='node0'
PARAM15='node1'
PARAM16='node2'
PARAM17='node3'
PARAM18='static'
PARAM19='svn'
PARAM20='www'
PARAM21='wx'

num=1
n=1
for ((a=$num;a<$[num+6];a++ && n++)); do
  eval DNS$a='$BASE'$n-$PROJECT1.$1
  eval DNSNAME$a=`eval echo '${DNS'$a'//./-}'`
done
n=1
for ((a=$[num+6];a<$[num+11];a++ && n++)); do
  eval DNS$a='$CICD'$n-$PROJECT2.$1
  eval DNSNAME$a=`eval echo '${DNS'$a'//./-}'`
done
n=1
for ((a=$[num+11];a<$[num+13];a++ && n++)); do
  eval DNS$a='$PRODUCT'$n.$1
  eval DNSNAME$a=`eval echo '${DNS'$a'//./-}'`
done
n=1 && m=3
for ((a=$[num+13];a<$[num+28];a++ && n++ && m++)); do
  if [ $n -ge 6 ]; then n=1; fi
  if [ $m -ge 6 ]; then m=3; fi
  if [ $m -eq 3 ]; then
    eval DNS$a='$DEV'$n.$1
    eval DNSNAME$a=`eval echo '${DNS'$a'//./-}'`
  else
    eval DNS$a='$DEV'$n-'$PROJECT'$m.$1
    eval DNSNAME$a=`eval echo '${DNS'$a'//./-}'`
  fi
done
n=1
for ((a=$[num+28];a<$[num+49];a++ && n++)); do
  eval DNS$a='$PARAM'$n.$1
  eval DNSNAME$a=`eval echo '${DNS'$a'//./-}'`
done
eval DNS$a=$1
eval DNSNAME$a=`eval echo '${DNS'$a'//./-}'`
# for ((n=1;n<85;n++)); do eval echo '$DNSNAME'$n; done

CNF='san.cnf'
ACME_DIR='/mnt/data/product-storage/nginx/html/.well-known/acme-challenge/'

# DNS.7 = nexus-cicd.zhonglele.com
DNNS1=$DNS7
DNNSNAME1=$DNSNAME7
PROJ1=$PROJECT2
TARGET1=$CICD1-8081-tcp
SERVICE1=$CICD1

# DNS.8 = gogs-cicd.zhonglele.com
DNNS2=$DNS8
DNNSNAME2=$DNSNAME8
PROJ2=$PROJECT2
TARGET2=$CICD2-3000-tcp
SERVICE2=$CICD2

# DNS.9 = jenkins-cicd.zhonglele.com
DNNS3=$DNS9
DNNSNAME3=$DNSNAME9
PROJ3=$PROJECT2
TARGET3=$CICD3-8080-tcp
SERVICE3=$CICD3

# DNS.10 = subversion-cicd.zhonglele.com
DNNS4=$DNS10
DNNSNAME4=$DNSNAME10
PROJ4=$PROJECT2
TARGET4=$CICD4-80-tcp
SERVICE4=$CICD4

# DNS.11 = sonarqube-cicd.zhonglele.com
DNNS5=$DNS11
DNNSNAME5=$DNSNAME11
PROJ5=$PROJECT2
TARGET5=$CICD5-9000-tcp
SERVICE5=$CICD5

# DNS.12 = zentao.zhonglele.com
DNNS6=$DNS12
DNNSNAME6=$DNSNAME12
PROJ6=$PROJECT3
TARGET6=$PRODUCT1-8080-tcp
SERVICE6=$PROJECT3-$PRODUCT1

# DNS.13 = nginx.zhonglele.com
DNNS7=$DNS13
DNNSNAME7=$DNSNAME13
PROJ7=$PROJECT3
TARGET7=$PRODUCT2-80-tcp
SERVICE7=$PRODUCT2

# DNS.14 = yuantianfu.zhonglele.com
DNNS8=$DNS14
DNNSNAME8=$DNSNAME14
PROJ8=$PROJECT3
TARGET8=$DEV1-8080-tcp
SERVICE8=$PROJECT3-$DEV1

# DNS.15 = finance-dev.zhonglele.com
DNNS9=$DNS15
DNNSNAME9=$DNSNAME15
PROJ9=$PROJECT4
TARGET9=$DEV2-8080-tcp
SERVICE9=$PROJECT4-$DEV2

# DNS.16 = sso-test.zhonglele.com
DNNS10=$DNS16
DNNSNAME10=$DNSNAME16
PROJ10=$PROJECT5
TARGET10=$DEV3-8080-tcp
SERVICE10=$PROJECT5-$DEV3

# DNS.17 = coc.zhonglele.com
DNNS11=$DNS17
DNNSNAME11=$DNSNAME17
PROJ11=$PROJECT3
TARGET11=$DEV4-8080-tcp
SERVICE11=$PROJECT3-$DEV4

# DNS.24 = yuantianfu-dev.zhonglele.com
DNNS12=$DNS24
DNNSNAME12=$DNSNAME24
PROJ12=$PROJECT4
TARGET12=$DEV1-8080-tcp
SERVICE12=$PROJECT4-$DEV1

# DNS.25 = finance-test.zhonglele.com
DNNS13=$DNS25
DNNSNAME13=$DNSNAME25
PROJ13=$PROJECT5
TARGET13=$DEV2-8080-tcp
SERVICE13=$PROJECT5-$DEV2

# DNS.26 = sso.zhonglele.com
DNNS14=$DNS26
DNNSNAME14=$DNSNAME26
PROJ14=$PROJECT3
TARGET14=$DEV3-8080-tcp
SERVICE14=$PROJECT3-$DEV3

# DNS.27 = coc-dev.zhonglele.com
DNNS15=$DNS27
DNNSNAME15=$DNSNAME27
PROJ15=$PROJECT4
TARGET15=$DEV4-8080-tcp
SERVICE15=$PROJECT4-$DEV4

# DNS.19 = yuantianfu-test.zhonglele.com
DNNS16=$DNS19
DNNSNAME16=$DNSNAME19
PROJ16=$PROJECT5
TARGET16=$DEV1-8080-tcp
SERVICE16=$PROJECT5-$DEV1

# DNS.20 = finance.zhonglele.com
DNNS17=$DNS20
DNNSNAME17=$DNSNAME20
PROJ17=$PROJECT3
TARGET17=$DEV2-8080-tcp
SERVICE17=$PROJECT3-$DEV2

# DNS.21 = sso-dev.zhonglele.com
DNNS18=$DNS21
DNNSNAME18=$DNSNAME21
PROJ18=$PROJECT4
TARGET18=$DEV3-8080-tcp
SERVICE18=$PROJECT4-$DEV3

# DNS.22 = coc-test.zhonglele.com
DNNS19=$DNS22
DNNSNAME19=$DNSNAME22
PROJ19=$PROJECT5
TARGET19=$DEV4-8080-tcp
SERVICE19=$PROJECT5-$DEV4

# DNS.30 = apps.zhonglele.com
DNNS20=$DNS30
DNNSNAME20=$DNSNAME30
PROJ20=$PROJECT3
TARGET20=$PRODUCT2-80-tcp
SERVICE20=$PRODUCT2

# DNS.34 = git.zhonglele.com
DNNS21=$DNS34
DNNSNAME21=$DNSNAME34
PROJ21=$PROJECT2
TARGET21=$CICD2-3000-tcp
SERVICE21=$CICD2

# DNS.46 = static.zhonglele.com
DNNS22=$DNS46
DNNSNAME22=$DNSNAME46
PROJ22=$PROJECT3
TARGET22=$PRODUCT2-80-tcp
SERVICE22=$PRODUCT2

# DNS.50 = zhonglele.com
DNNS23=$DNS50
DNNSNAME23=$DNSNAME50
PROJ23=$PROJECT3
TARGET23=$PRODUCT2-80-tcp
SERVICE23=$PRODUCT2

# # DNS.64 = yuantianfu.ipaas.zhonglele.com
# DNNS24=$DNS64
# DNNSNAME24=$DNSNAME64
# PROJ24=$PROJECT3
# TARGET24=$DEV1-8080-tcp
# SERVICE24=$PROJECT3-$DEV1
#
# # DNS.65 = finance-dev.ipaas.zhonglele.com
# DNNS25=$DNS65
# DNNSNAME25=$DNSNAME65
# PROJ25=$PROJECT4
# TARGET25=$DEV2-8080-tcp
# SERVICE25=$PROJECT4-$DEV2
#
# # DNS.66 = sso-test.ipaas.zhonglele.com
# DNNS26=$DNS66
# DNNSNAME26=$DNSNAME66
# PROJ26=$PROJECT5
# TARGET26=$DEV3-8080-tcp
# SERVICE26=$PROJECT5-$DEV3
#
# # DNS.67 = coc.ipaas.zhonglele.com
# DNNS27=$DNS67
# DNNSNAME27=$DNSNAME67
# PROJ27=$PROJECT3
# TARGET27=$DEV4-8080-tcp
# SERVICE27=$PROJECT3-$DEV4
#
# # DNS.68 = console-dev.ipaas.zhonglele.com
# DNNS28=$DNS68
# DNNSNAME28=$DNSNAME68
# PROJ28=$PROJECT4
# TARGET28=$DEV2-8080-tcp
# SERVICE28=$PROJECT4-$DEV2
#
# # DNS.69 = yuantianfu-test.ipaas.zhonglele.com
# DNNS29=$DNS69
# DNNSNAME29=$DNSNAME69
# PROJ29=$PROJECT5
# TARGET29=$DEV1-8080-tcp
# SERVICE29=$PROJECT5-$DEV1
#
# # DNS.70 = finance.ipaas.zhonglele.com
# DNNS30=$DNS70
# DNNSNAME30=$DNSNAME70
# PROJ30=$PROJECT3
# TARGET30=$DEV2-8080-tcp
# SERVICE30=$PROJECT3-$DEV2
#
# # DNS.71 = sso-dev.ipaas.zhonglele.com
# DNNS31=$DNS71
# DNNSNAME31=$DNSNAME71
# PROJ31=$PROJECT4
# TARGET31=$DEV3-8080-tcp
# SERVICE31=$PROJECT4-$DEV3
#
# # DNS.72 = coc-test.ipaas.zhonglele.com
# DNNS32=$DNS72
# DNNSNAME32=$DNSNAME72
# PROJ32=$PROJECT3
# TARGET32=$DEV4-8080-tcp
# SERVICE32=$PROJECT3-$DEV4
#
# # DNS.73 = console.ipaas.zhonglele.com
# DNNS33=$DNS73
# DNNSNAME33=$DNSNAME73
# PROJ33=$PROJECT3
# TARGET33=$DEV2-8080-tcp
# SERVICE33=$PROJECT3-$DEV2
#
# # DNS.74 = yuantianfu-dev.ipaas.zhonglele.com
# DNNS34=$DNS74
# DNNSNAME34=$DNSNAME74
# PROJ34=$PROJECT4
# TARGET34=$DEV1-8080-tcp
# SERVICE34=$PROJECT4-$DEV1
#
# # DNS.75 = finance-test.ipaas.zhonglele.com
# DNNS35=$DNS75
# DNNSNAME35=$DNSNAME75
# PROJ35=$PROJECT5
# TARGET35=$DEV2-8080-tcp
# SERVICE35=$PROJECT5-$DEV2
#
# # DNS.76 = sso.ipaas.zhonglele.com
# DNNS36=$DNS76
# DNNSNAME36=$DNSNAME76
# PROJ36=$PROJECT3
# TARGET36=$DEV3-8080-tcp
# SERVICE36=$PROJECT3-$DEV3
#
# # DNS.77 = coc-dev.ipaas.zhonglele.com
# DNNS37=$DNS77
# DNNSNAME37=$DNSNAME77
# PROJ37=$PROJECT4
# TARGET37=$DEV4-8080-tcp
# SERVICE37=$PROJECT4-$DEV4
#
# # DNS.78 = console-test.ipaas.zhonglele.com
# DNNS38=$DNS78
# DNNSNAME38=$DNSNAME78
# PROJ38=$PROJECT5
# TARGET38=$DEV2-8080-tcp
# SERVICE38=$PROJECT5-$DEV2
#
# # DNS.96 = static.ipaas.zhonglele.com
# DNNS39=$DNS96
# DNNSNAME39=$DNSNAME96
# PROJ39=$PROJECT3
# TARGET39=$PRODUCT2-80-tcp
# SERVICE39=$PRODUCT2
